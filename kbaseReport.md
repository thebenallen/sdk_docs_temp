[KBaseReport](https://appdev.kbase.us/#catalog/modules/KBaseReport) allows the creation of KBase 
reports which can present text, html, and downloadable files to the user as output to your app.


The KBaseReports module is the preferred way to communicate results to users. The example module contains a minimal use
case where a string is displayed to the user (supplied in the 'text_message' field) along with links to new objects 
created by the app (supplied in the 'objects_created' field). However this module also contains functionality to create 
and display HTML webpages and serve files directly for user download. A more typical and feature rich example can be
found in KBase's implementation of [Ballgown](https://github.com/kbaseapps/kb_ballgown/blob/1b77c87/lib/kb_ballgown/core/ballgown_util.py#L66-L167)

The KBaseReport module allows the creation of KBase reports which can present text, HTML, and downloadable files to the user as output to your app. 

Why do you need a report?
Reports in KBase allow a developer to present visualizations, generate human readable text strings, present warnings, contain output files that do not correspond to typed objects, and in general display information that is useful to a user without having to utilize kbase-ui widgets. 

How many types of reports?
Reports can be configured in a variety of ways, depending on how a developer sets up the parameters to parse and display the outputs of an App. 

Step1
The first step in setting up KBase reports for an App is determining what the outputs of the program are in order to figure out how to best display results or give access to files to users. By understanding what kinds files, HTML reports, warnings, and other outputs are generated by the program outside of KBase, you can develop a strategy for adequately representing all these within the output cell for your App. The following parameters can be set to configure the output:


To save space, an annotated copy of the master function is copied below:

```python
def _generate_report (self, params, other_stuff):

    # A working example of a method that generates report for DESEQ app
    # https://github.com/kbaseapps/kb_deseq/blob/586714d/lib/kb_deseq/Utils/DESeqUtil.py#L241-L285
    
    report_params = {
         #message is an optional field. It is string that appears in the summary section of the result page
         #eg. message = “This is a message string”

         'message': message_in_app,

         #objects_created: List of typed objects created during
         #the execution of the App.This can only be used to refer
         #to typed objects in the workspace and is separate 
         #from any files generated by the app.

         #eg. 
         #objects_created_in_app = list()
         #objects_created_in_app.append(obj1)
         #objects_created_in_app.append(obj2)
         # See a working example here
         # https://github.com/kbaseapps/kb_deseq/blob/586714d/lib/kb_deseq/Utils/DESeqUtil.py#L262-L264

         'objects_created': objects_created_in_app,

         #warnings: list of strings that can be used to alert the user
         #eg. 
         # warnings_in_app = list()
         # warnings_in_app.append (‘This is warning 1’)
         # warnings_in_app.append (‘This is warning 2’)

         'warnings': warnings_in_app,


         'workspace_name': ws_name,

         #file_links: list of paths or shock node IDs pointing to 
         #a single flat file. They appear in xxx section 
         #as list of downloadable files. 
         #eg. 
         #  output_files_in_app = list()
         #  output_files_in_app.append({
         #      ‘path’: ‘path to file1 or shock id’,
         #      ‘name’: ‘name of file’,
         #      ‘label’: ‘label of file’,
         #      ‘description’ : ‘Description of file’
         #  }
         
         # To see a working example
         # https://github.com/kbaseapps/kb_deseq/blob/586714d/lib/kb_deseq/Utils/DESeqUtil.py#L205-L239



         'file_links': output_files_in_app,


         #html_links: HTML files that appear in “Links” section. 
         #List of paths or shock node IDs pointing to a single 
         #flat html file or to the top level directory of a website. 
         #The report widget can render one html view directly. 
         #Set one of the following fields to decide which view to render:
         #direct_html - A string with simple html text that will
         #be rendered within the report widget:
         #direct_html_link_index - Integer to specify the index of
         #the page in html_links to view directly in the report widget


         # html_files_in_app = list()
         # html_files_in_app.append({
         #    ‘path’: ‘path to file1 or shock id’,
         #    ‘name’: ‘name of html file1’,
         #    ‘label’: ‘label of html file1’,
         #    ‘description’ : ‘Description of html file1’
         # }
         
         # To see a working example 
         # https://github.com/kbaseapps/kb_deseq/blob/586714d/lib/kb_deseq/Utils/DESeqUtil.py#L86-L194
         

         'html_links': html_files_in_app,
         'direct_html_link_index': 0,

         #html_window_height : Window height - This sets the height
         #of the HTML window displayed under the “Reports” section. 
         #The width is fixed. 

         'html_window_height': 333,



         'report_object_name': 'kb_app_name_report_' + str(uuid.uuid4())}

          # Make the client, generate the report
          
          kbase_report_client = KBaseReport(self.callback_url)
          output = kbase_report_client.create_extended_report(report_params)
          
          # Return references which will allow inline display of
          #the report in the Narrative
          
          report_output = {'report_name': output['name'], 
                            'report_ref': output['ref']}
          
          return report_output
  }
  ```
